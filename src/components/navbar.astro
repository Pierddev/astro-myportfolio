---
import IconHome from "../components/icons/IconHome.astro";
import IconAbout from "../components/icons/IconAbout.astro";
import IconContact from "../components/icons/IconContact.astro";
import IconClose from "../components/icons/IconClose.astro";
import IconProject from "../components/icons/IconProject.astro";
import IconStack from "../components/icons/IconStack.astro";
import IconBurger from "../components/icons/IconBurger.astro";

const { currentPath } = Astro.props;
const currentPage = (currentPath.split("/").filter(Boolean)[0] ||
	"home") as keyof typeof pageLabels;

const pageLabels = {
	home: { label: "Accueil", icon: "home" },
	about: { label: "À propos", icon: "about" },
	contact: { label: "Contact", icon: "contact" },
	stack: { label: "Stack", icon: "stack" },
	projects: { label: "Projets", icon: "projects" },
};

const label = pageLabels[currentPage]?.label ?? "Navigation";
const icon = pageLabels[currentPage]?.icon ?? "default";
---

<!-- NAVBAR Label -->
<div class="fixed top-35 z-50 lg:hidden">
	<button
		id="burger"
		class="text-white bg-[#0d0c1786] px-50 py-10 rounded-full backdrop-blur-sm border border-card-border"
	>
		<div class="flex items-center space-x-5">
			<IconBurger />
			<!-- {icon === "default" && <IconBurger />}
			{icon === "home" && <IconHome />}
			{icon === "about" && <IconAbout />}
			{icon === "contact" && <IconContact />}
			{icon === "stack" && <IconStack />}
			{icon === "projects" && <IconProject />} -->
			<!-- <div class="text-16 lg:text-20 font-medium">{label}</div> -->
			<div class="text-16 lg:text-20 font-medium">Navigation</div>
		</div>
	</button>
</div>

<!-- MENU mobile -->
<div
	id="mobileMenu"
	class="hidden fixed inset-0 bg-black/80 z-40 flex flex-col items-center justify-center space-y-6 text-white text-lg lg:hidden backdrop-blur-sm"
>
	<button id="closeBurger">
		<div
			class="text-white bg-[#0d0c1786] mb-30 p-10 rounded-full border border-card-border"
		>
			<IconClose class="size-40" />
		</div>
	</button>
	<a
		href="/"
		class={`navbar-item ${currentPage === "home" ? "navbar-active" : "navbar-non-active"}`}
		>Accueil</a
	>
	<a
		href="/about"
		class={`navbar-item ${currentPage === "about" ? "navbar-active" : "navbar-non-active"}`}
		>À propos</a
	>
	<a
		href="/stack"
		class={`navbar-item ${currentPage === "stack" ? "navbar-active" : "navbar-non-active"}`}
		>Stack</a
	>
	<a
		href="/projects"
		class={`navbar-item ${currentPage === "projects" ? "navbar-active" : "navbar-non-active"}`}
		>Projets</a
	>
	<a
		href="/contact"
		class={`navbar-item ${currentPage === "contact" ? "navbar-active" : "navbar-non-active"}`}
		>Contact</a
	>
</div>

<!-- NAVBAR - PC Version -->
<div
	class="hidden lg:block lg:fixed text-white/80 mt-35 bg-[#0d0c1786] border-card-border border-1 size-fit rounded-full p-5 backdrop-blur-sm z-40"
>
	<li class="flex space-x-15 text-15">
		<a
			href="/"
			class={`navbar-item ${currentPage === "home" ? "navbar-active" : "navbar-non-active"}`}
		>
			<IconHome />
			<span>Accueil</span>
		</a>
		<a
			href="/about"
			class={`navbar-item ${currentPage === "about" ? "navbar-active" : "navbar-non-active"}`}
		>
			<IconAbout />
			<span>À propos</span>
		</a>
		<a
			href="/stack"
			class={`navbar-item ${currentPage === "stack" ? "navbar-active" : "navbar-non-active"}`}
		>
			<IconStack />
			<span>Stack</span>
		</a>
		<a
			href="/projects"
			class={`navbar-item ${currentPage === "projects" ? "navbar-active" : "navbar-non-active"}`}
		>
			<IconProject />
			<span>Projets</span>
		</a>
		<a
			href="/contact"
			class={`navbar-item ${currentPage === "contact" ? "navbar-active" : "navbar-non-active"}`}
		>
			<IconContact />
			<span>Contact</span>
		</a>
	</li>
</div>
